<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <script src="Number.js"></script>
    <title>Numbers </title>

  <style>
    body { max-width: 440px; }
    #sample { overflow-x: auto; }
  </style>
</head>

<body>
<h2 id=title></h2>
<p>
num = <input type=number id=num style="width:40px" value=10>
den = <input type=number id=den style="width:40px" value=20>
<input type=button value="Rational" onClick="rational()">
</p><p>
real = <input type=number id=re style="width:40px" value=0>
img = <input type=number id=im style="width:40px" value=1>
<input type=button value="Complex" onClick="complex()">
<p>
Stack: 
<input type=button value="Add" onClick="add()">
<input type=button value="Multiply" onClick="mult()">
<input type=button value="Inverse" onClick="inverse()">
<input type=button value="Clear" onClick="stk=[]; display()">
</p>
<p id=out></p>

<hr />
<b>Sample code</b>
<pre id=sample></pre>
<hr />

<script>
"use strict";
var stk = []; //stack of numbers
function pushNumber(x) {
    stk.push(x); display();
}
function rational() {
    let n = Number(num.value), d = Number(den.value);
    pushNumber(Make.rational(n, d));
}
function complex() {
    let r = Number(re.value), i = Number(im.value);
    pushNumber(Make.complex(r, i));
}
function add() {
    let a = stk.pop(), b = stk.pop();
    pushNumber(a.add(b));
}
function mult() {
    let a = stk.pop(), b = stk.pop();
    pushNumber(a.mult(b));
}
function inverse() {
    pushNumber(stk.pop().inverse());
}
function display() { //the stack
    let s = [], n = stk.length;
    while (n)
        s.push(stk[--n]);
    console.log(s.toString());
    out.innerText = s.join("\n");
}
    title.innerText = document.title;
    sample.innerText = Make.toString();
    rational(); complex();
</script>

</body>
</html>
