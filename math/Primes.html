<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <title>Primes </title>
</head>

<script>
"use strict";
function primes(M) {
    const s = new Array(M);
    for (let k=2; k<M; k++) s[k] = true;
    for (let p=2; p*p<M; p++) 
        if (s[p]) { //p is next prime
            for (let k=2*p; k<M; k=k+p)
               s[k] = false;
        }
    let t = "", n = 0;
    for (let p=2; p<=M; p++) 
        if (s[p]) { t += p+"  "; n++ }
    console.log(n+" primes < "+M); 
    out.innerText = t;
}
</script>

<body>
<h2 id=title></h2>
<p>Primes &lt; 
<input type=number min=3 max=10000 value=100 onChange="primes(value)">
</p>
<p id=out></p>

<hr />
<b>Sample code</b>
<pre id=sample></pre>
<hr />

<script>
    title.innerText = document.title;
    sample.innerText = primes.toString();
    primes(100);
</script>

</body>
</html>
