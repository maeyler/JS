<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <link rel="icon" sizes="192x192" href="/JS/images/JS.png">
    <title>Word count </title>
</head>

<body>
<h3>Word 
    <button id=count>Count</button>&ensp;
    <input type=text id=out size=10 />&ensp;
    <button id=paste>Paste</button></h3>
<textarea id=txa rows=20 style="width:100%">
</textarea>
<hr />
<b>Sample code</b>
<pre id=sample>
</pre>
<hr />
<b>Generated by AI on 2023-06-12</b>
<p>ChatGPT, Bing, Bard: I asked each chatbot the same question: <br>
<code>* JS code that counts words in a given string</code>
</p><p>They all made this false assumption: words are separated by a single space. Moreover, they all ignored the punctuation marks. I asked them again: <br>
<code>* Not a good reply. The string may contain punctuation marks.</code>
</p><p>All three chatbots apologized. The new answer from two of them was not much different from the previous one. However, ChatGPT replied with the correct RegExp:
<code>/[\p{P}]+/u</code>
</p>

<script>
function countWords(s) {
  s = s.trim(); if (s === '') return 0
  const E = /[\p{P}\s]+/u   //RegExp
  const a = s.split(E).filter(x => x)
  console.log(a); return a.length;
}
async function doPaste() {
   const t = await navigator.clipboard.readText()
   if (!t) return
   txa.value = t; count.onclick()
}
sample.innerText = countWords
count.onclick = () => out.value = countWords(txa.value)
paste.onclick = doPaste
</script>
<script src="/JS/navbar.js"></script>

</body>
</html>

