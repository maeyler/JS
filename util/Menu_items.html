<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <link rel="icon" sizes="192x192" href="../images/JS.png">
    <link rel="stylesheet" href="Util.css" media="all">
    <title>Menu Items </title>

  <style>
    body { max-width: 440px; }
    #out {
        color: blue;
        padding: 10px;
    }
  </style>
</head>

<body>
<h2 id=title></h2>

<datalist id=flavors>
    <option value="Vanilla">
    <option value="Chocolate">
    <option value="Coconut">
    <option value="Cranberry">
    <option value="Mint">
    <option value="Melon">
    <option value="Mulberry">
    <option value="Strawberry">
</datalist>

<p>class ContextMenu <br>
    <span id=span1 class=selection>
        <br>ContextMenu is active in this box<br> &nbsp;
    </span>
    <div id=menu1 class=menu hidden>
        <span class=menuItem>Count &nbsp;<input id=counter type=number 
          value=0 min=0 max=999></span>
    </div>
</p>
<p>input using datalist <br>
<input list=flavors onChange="report(value)">
</p> 
<p>HTML select <br>
<select id=menu3 onChange="report(value)">
<!-- options will be copied from flavors -->
</select>
</p>
<p>class SelectMenu <br>
    <span id=span4 class=selection></span>
    <div id=menu4 class=menu hidden></div>
</p>

<p id=out>Output</p>

<hr />
<b>Sample code</b>
<pre id=sample></pre>
<hr />
<p>Ref: 
  <a href="https://adrianroselli.com/2020/03/stop-using-drop-down.html" 
    target=NewTab>Stop using 'Drop-down'
  </a>

<script src="Util.js"></script>
<script>
"use strict";
function report(s) {
    if (s === null) return
    s = (++counter.value) + '. ' + s
    out.innerText = s; console.log(s)
}
function cb(m) { //callback
    if (m.menu.hidden) { //hide menu
      report(m.current.innerText)
    } else { //show menu
      counter.focus()
    }
}
    title.innerText = document.title
    sample.innerText = ContextMenu+'\n'+cb
    let a = [...flavors.options].map(x => x.value)
    let c = new ContextMenu(span1, menu1, a, cb, 160)
    let s = new SelectMenu(span4, menu4, a, cb, 160)
    menu3.innerHTML = '<option>' + a.join('<option>')
</script>

</body>
</html>
