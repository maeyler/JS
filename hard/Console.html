<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <link rel="icon" sizes="192x192" href="/JS/images/JS.png">
    <title>JS Console </title>

  <style>
    textarea { width:280px; height:200px; }
  </style>
</head>

<body>

<h2 id=title></h2>

<p>This code is like magic: <br>
It runs any JS code within JS <br>
</p>
<textarea id="code">
a = "9*100"
e = "Math.sqrt("+a+")"
return e +" = "+eval(e)

//we can return just one object
//and only Strings are readable
</textarea>

<button onClick="magic()">Run</button>
<pre id="out"></pre>

<hr />
<b>Sample code</b>
<pre id=sample></pre>
<hr />

<p>Ref: 
<a href="http://eloquentjavascript.net/18_http.html#i_wTXvIH5Wds" 
   target="NewTab">A JavaScript workbench</a>
</p>

<script>
"use strict";
function magic() {
    let t = code.value;
    try {
      t = Function(t).call();
      console.log(t); 
      out.style.color = "blue";
    } catch (error) {
      t = error;
      console.error(t); 
      out.style.color = "red";
    }
    out.innerText = t; 
    return t; 
}
    title.innerText = document.title;
    sample.innerText = magic.toString();
    magic();
</script>

</body>
</html>
